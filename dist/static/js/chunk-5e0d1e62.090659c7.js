(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e0d1e62"],{"0ccb":function(t,e,r){var n=r("50c4"),a=r("1148"),o=r("1d80"),i=Math.ceil,l=function(t){return function(e,r,l){var c,u,s=String(o(e)),d=s.length,p=void 0===l?" ":String(l),f=n(r);return f<=d||""==p?s:(c=f-d,u=a.call(p,i(c/p.length)),u.length>c&&(u=u.slice(0,c)),t?s+u:u+s)}};t.exports={start:l(!1),end:l(!0)}},"4d90":function(t,e,r){"use strict";var n=r("23e7"),a=r("0ccb").start,o=r("9a0c");n({target:"String",proto:!0,forced:o},{padStart:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},"66b4":function(t,e,r){"use strict";r.d(e,"s",(function(){return a})),r.d(e,"x",(function(){return o})),r.d(e,"D",(function(){return i})),r.d(e,"E",(function(){return l})),r.d(e,"a",(function(){return c})),r.d(e,"t",(function(){return u})),r.d(e,"g",(function(){return s})),r.d(e,"m",(function(){return d})),r.d(e,"y",(function(){return p})),r.d(e,"b",(function(){return f})),r.d(e,"h",(function(){return m})),r.d(e,"n",(function(){return b})),r.d(e,"A",(function(){return _})),r.d(e,"B",(function(){return h})),r.d(e,"c",(function(){return v})),r.d(e,"u",(function(){return g})),r.d(e,"i",(function(){return y})),r.d(e,"r",(function(){return w})),r.d(e,"f",(function(){return I})),r.d(e,"l",(function(){return x})),r.d(e,"q",(function(){return O})),r.d(e,"F",(function(){return k})),r.d(e,"e",(function(){return j})),r.d(e,"k",(function(){return S})),r.d(e,"o",(function(){return $})),r.d(e,"C",(function(){return C})),r.d(e,"G",(function(){return L})),r.d(e,"z",(function(){return T})),r.d(e,"w",(function(){return R})),r.d(e,"d",(function(){return N})),r.d(e,"p",(function(){return V})),r.d(e,"v",(function(){return F})),r.d(e,"j",(function(){return U}));var n=r("b775");function a(t){return Object(n["a"])({url:"/admin/car",method:"get",params:t})}function o(t,e){return Object(n["a"])({url:"/admin/car/".concat(t),method:"put",data:e})}function i(t){return Object(n["a"])({url:"/admin/car-test",method:"put",data:t})}function l(t){return Object(n["a"])({url:"/admin/car-user",method:"put",data:t})}function c(t){return Object(n["a"])({url:"/admin/car",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/admin/car/".concat(t),method:"get"})}function s(t){return Object(n["a"])({url:"/admin/car",method:"delete",data:t})}function d(t){return Object(n["a"])({url:"/admin/car-brand",method:"get",params:t})}function p(t,e){return Object(n["a"])({url:"/admin/car-brand/".concat(t),method:"put",data:e})}function f(t){return Object(n["a"])({url:"/admin/car-brand",method:"post",data:t})}function m(t){return Object(n["a"])({url:"/admin/car-brand",method:"delete",data:t})}function b(t){return Object(n["a"])({url:"/admin/car-model",method:"get",params:t})}function _(t,e){return Object(n["a"])({url:"/admin/car-model/".concat(t,"/extra"),method:"put",data:e})}function h(t,e){return Object(n["a"])({url:"/admin/car-model/".concat(t),method:"put",data:e})}function v(t){return Object(n["a"])({url:"/admin/car-model",method:"post",data:t})}function g(t){return Object(n["a"])({url:"/admin/car-model/".concat(t),method:"get"})}function y(t){return Object(n["a"])({url:"/admin/car-model",method:"delete",data:t})}function w(t){return Object(n["a"])({url:"/admin/car-year",method:"get",params:t})}function I(t){return Object(n["a"])({url:"/admin/car-year",method:"post",data:t})}function x(t){return Object(n["a"])({url:"/admin/car-year",method:"delete",data:t})}function O(t){return Object(n["a"])({url:"/admin/car-vehicle",method:"get",params:t})}function k(t,e){return Object(n["a"])({url:"/admin/car-vehicle/".concat(t),method:"put",data:e})}function j(t){return Object(n["a"])({url:"/admin/car-vehicle",method:"post",data:t})}function S(t){return Object(n["a"])({url:"/admin/car-vehicle",method:"delete",data:t})}function $(t){return Object(n["a"])({url:"/admin/car-sell",method:"get",params:t})}function C(t){return Object(n["a"])({url:"/admin/car/".concat(t,"/sell"),method:"put"})}function L(t){return Object(n["a"])({url:"/admin/car/".concat(t,"/warehouse"),method:"put"})}function T(t){return Object(n["a"])({url:"/admin/car/".concat(t,"/copy"),method:"put"})}function R(t,e){return Object(n["a"])({url:"/admin/car/".concat(t,"/sort"),method:"put",data:e})}function N(t){return Object(n["a"])({url:"/admin/car-sell-log",method:"post",data:t})}function V(t){return Object(n["a"])({url:"/admin/car-sell-log",method:"get",params:t})}function F(t,e){return Object(n["a"])({url:"/admin/car-vehicle/".concat(t,"/updown"),method:"put",data:e})}function U(t){return Object(n["a"])({url:"/admin/car-sell",method:"delete",data:t})}},"70a2":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-upload",{attrs:{action:"","http-request":t.upload,"list-type":"picture-card","on-preview":t.handlePictureCardPreview,"file-list":t.imgList,"on-change":t.handleChange,limit:10,"before-remove":t.beforeRemove,"on-remove":t.handleRemove}},[r("i",{staticClass:"el-icon-plus"})]),r("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},a=[],o=(r("4160"),r("c975"),r("a15b"),r("b0c0"),r("ac1f"),r("1276"),r("159b"),r("91b6")),i={props:{value:"",pic_url:[]},mounted:function(){this.imageUrl()},data:function(){return{imgList:[],imgList2:[],valueList:[],dialogImageUrl:"",dialogVisible:!1}},methods:{imageUrl:function(){var t=this;if(!this.pic_url)return!0;this.pic_url.forEach((function(e){t.imgList.push({id:e.id,name:e.banner_name,url:e.banner_url})})),this.valueList=this.value.indexOf(",")?this.value.split(","):this.valueList.push(this.value)},upload:function(t){var e=this;console.log(t);var r=new FormData;r.append("file",t.file),Object(o["a"])(r).then((function(t){e.valueList.push(t.data.file_id),e.imgList2.push({id:t.data.file_id,name:t.data.file_name,url:t.data.file_url}),e.emitInput(e.valueList)}))},emitInput:function(t){console.log(t.join(",")),this.$emit("input",t.join(","))},handleChange:function(t,e){var r={name:t.name,url:t.url};this.imgList.push(r)},handleRemove:function(t,e){var r=this;console.log(e);var n=[];this.imgList=e,e.forEach((function(t){r.imgList2.forEach((function(e){t.name==e.name&&n.push(e.id)}))})),this.emitInput(n),this.valueList=n},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},beforeRemove:function(t){return this.$confirm("确定移除 ".concat(t.name,"？"))}}},l=i,c=(r("9b08"),r("2877")),u=Object(c["a"])(l,n,a,!1,null,null,null);e["a"]=u.exports},"7db0":function(t,e,r){"use strict";var n=r("23e7"),a=r("b727").find,o=r("44d2"),i=r("ae40"),l="find",c=!0,u=i(l);l in[]&&Array(1)[l]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!u},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),o(l)},8697:function(t,e,r){},"9a0c":function(t,e,r){var n=r("342f");t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},"9b08":function(t,e,r){"use strict";r("8697")},a15b:function(t,e,r){"use strict";var n=r("23e7"),a=r("44ad"),o=r("fc6a"),i=r("a640"),l=[].join,c=a!=Object,u=i("join",",");n({target:"Array",proto:!0,forced:c||!u},{join:function(t){return l.call(o(this),void 0===t?",":t)}})},dfe5b:function(t,e,r){"use strict";r("e2a4")},e2a4:function(t,e,r){},e6e2:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("div",{staticClass:"filter-container"},[r("el-form",{ref:"filterForm",attrs:{model:t.listQuery}},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"60px",label:"名称:"}},[r("el-input",{staticStyle:{width:"50%"},attrs:{clearable:"",placeholder:"输入关键字"},model:{value:t.listQuery.product_title,callback:function(e){t.$set(t.listQuery,"product_title",e)},expression:"listQuery.product_title"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v(" 查询 ")]),r("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"default",icon:"el-icon-search"},on:{click:function(e){return t.resetForm("filterForm")}}},[t._v(" 清空查询条件 ")])],1)],1),r("el-button",{attrs:{type:"success",icon:"el-icon-clear"},on:{click:t.handleAddCar}},[t._v(" 添加标的 ")])],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"dragTable",attrs:{data:t.productList,"row-key":"id",fit:"","highlight-current-row":""}},[r("el-table-column",{attrs:{align:"center",label:"ID"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}])}),r("el-table-column",{attrs:{align:"center",label:"项目名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.product_title)+" ")]}}])}),r("el-table-column",{attrs:{align:"center",label:"利率(%)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.product_yield)+" ")]}}])}),r("el-table-column",{attrs:{align:"center",label:"筹标时间(天)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.raise_days)+" ")]}}])}),r("el-table-column",{attrs:{align:"center",label:"标的时间(天)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.product_days)+" ")]}}])}),r("el-table-column",{attrs:{align:"center",label:"发布日期"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.create_at)+" ")]}}])}),r("el-table-column",{attrs:{align:"center",label:"开始日期"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.product_start_at)+" ")]}}])}),r("el-table-column",{attrs:{align:"center",label:"到期日期"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.product_end_at)+" ")]}}])}),r("el-table-column",{attrs:{align:"center",label:"标的状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("statusShowFilter")(e.row.status))+" ")]}}])}),r("el-table-column",{attrs:{align:"center",label:"新手标"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-tag",{attrs:{type:t._f("statusFilter")(e.row.is_new)}},[t._v(" "+t._s(1==e.row.is_new?"是":"否")+" ")])]}}])}),r("el-table-column",{attrs:{align:"center",label:"是否显示"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:t._f("statusFilter")(e.row.is_show),size:"mini"},on:{click:function(r){return t.handleShow(e.row.id)}}},[t._v(" "+t._s(1==e.row.is_show?"是":"否")+" ")])]}}])}),r("el-table-column",{attrs:{align:"center",label:"操作",width:"280px"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){return t.handleEdit(e)}}},[t._v("编辑")]),r("el-button",{attrs:{type:"default",size:"mini"},on:{click:function(r){return t.handleLog(e)}}},[t._v("购买记录")]),r("el-button",{attrs:{disabled:1!=e.row.can_delete,type:"danger",size:"mini"},on:{click:function(r){return t.handleDelete(e)}}},[t._v("删除")])]}}])})],1),r("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.per_page},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"per_page",e)},pagination:t.getProduct}}),r("el-dialog",{staticStyle:{"min-height":"500px"},attrs:{visible:t.dialogVisible,title:"edit"===t.dialogType?"编辑项目":"新增项目",width:"50%",top:"5px"},on:{"update:visible":function(e){t.dialogVisible=e},close:t.handleClose}},[r("el-form",{attrs:{model:t.productInfo,"label-position":"left","label-width":"100px"}},[r("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"基础资料",name:"productInfo"}},[r("el-form-item",{attrs:{label:"项目名称"}},[r("el-input",{model:{value:t.productInfo.product_title,callback:function(e){t.$set(t.productInfo,"product_title",e)},expression:"productInfo.product_title"}})],1),r("el-form-item",{attrs:{label:"副标题"}},[r("el-input",{attrs:{type:"textarea"},model:{value:t.productInfo.product_subtitle,callback:function(e){t.$set(t.productInfo,"product_subtitle",e)},expression:"productInfo.product_subtitle"}})],1),r("el-form-item",{attrs:{label:"轮播图",required:""}},[t.dialogVisible?r("Upload",{attrs:{pic_url:t.productInfo.banner},model:{value:t.productInfo.banner_ids,callback:function(e){t.$set(t.productInfo,"banner_ids",e)},expression:"productInfo.banner_ids"}}):t._e(),r("p",[t._v("建议图片宽度750，高度200-950")])],1),r("el-form-item",{attrs:{label:"标的金额"}},[r("el-input",{attrs:{disabled:"edit"===t.dialogType},model:{value:t.productInfo.collect_money,callback:function(e){t.$set(t.productInfo,"collect_money",e)},expression:"productInfo.collect_money"}})],1),r("el-form-item",{attrs:{label:"年华收益",required:""}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("el-input",{model:{value:t.productInfo.product_yield,callback:function(e){t.$set(t.productInfo,"product_yield",e)},expression:"productInfo.product_yield"}})],1),r("el-col",{attrs:{span:6}},[t._v("%")])],1)],1),r("el-form-item",{attrs:{label:"筹标时间"}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd",disabled:"edit"===t.dialogType},model:{value:t.productInfo.raise_start_at,callback:function(e){t.$set(t.productInfo,"raise_start_at",e)},expression:"productInfo.raise_start_at"}})],1),r("el-form-item",{attrs:{label:"筹标期限"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("el-input",{attrs:{disabled:"edit"===t.dialogType},model:{value:t.productInfo.raise_days,callback:function(e){t.$set(t.productInfo,"raise_days",e)},expression:"productInfo.raise_days"}})],1),r("el-col",{attrs:{span:6}},[t._v("天")])],1)],1),r("el-form-item",{attrs:{label:"标的天数"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("el-input",{attrs:{disabled:"edit"===t.dialogType},model:{value:t.productInfo.product_days,callback:function(e){t.$set(t.productInfo,"product_days",e)},expression:"productInfo.product_days"}})],1),r("el-col",{attrs:{span:6}},[t._v("天")])],1)],1),r("el-form-item",{attrs:{label:"起购金额"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择",disabled:"edit"===t.dialogType},model:{value:t.productInfo.least_money,callback:function(e){t.$set(t.productInfo,"least_money",e)},expression:"productInfo.least_money"}},[r("el-option",{key:"100",attrs:{label:"100",value:"100"}}),r("el-option",{key:"1000",attrs:{label:"1000",value:"1000"}})],1)],1),r("el-form-item",{attrs:{label:"购买限制"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("el-input",{attrs:{value:"0",disabled:"edit"===t.dialogType},model:{value:t.productInfo.order_limit,callback:function(e){t.$set(t.productInfo,"order_limit",e)},expression:"productInfo.order_limit"}})],1),r("el-col",{attrs:{span:6}},[t._v("默认0标识不限制")])],1)],1),r("el-form-item",{staticStyle:{"margin-bottom":"30px"},attrs:{label:"是否新手标",required:""}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("el-radio",{attrs:{label:1,disabled:"edit"===t.dialogType},model:{value:t.productInfo.is_new,callback:function(e){t.$set(t.productInfo,"is_new",e)},expression:"productInfo.is_new"}},[t._v("是")]),r("el-radio",{attrs:{label:2,disabled:"edit"===t.dialogType},model:{value:t.productInfo.is_new,callback:function(e){t.$set(t.productInfo,"is_new",e)},expression:"productInfo.is_new"}},[t._v("否")])],1),r("el-col",{attrs:{span:6}},[t._v("新手标用户只能购买一次")])],1)],1),r("el-form-item",{staticStyle:{"margin-bottom":"30px"},attrs:{label:"虚拟成团",required:""}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("el-radio",{attrs:{label:1,disabled:"edit"===t.dialogType},model:{value:t.productInfo.is_virtual,callback:function(e){t.$set(t.productInfo,"is_virtual",e)},expression:"productInfo.is_virtual"}},[t._v("是")]),r("el-radio",{attrs:{label:2,disabled:"edit"===t.dialogType},model:{value:t.productInfo.is_virtual,callback:function(e){t.$set(t.productInfo,"is_virtual",e)},expression:"productInfo.is_virtual"}},[t._v("否")])],1),r("el-col",{attrs:{span:12}},[t._v("开启虚拟成团后，在筹标期内人数不够的，系统会虚拟用户凑满人数，使标的成功。虚拟的用户不生成后台投资记录。")])],1)],1),r("el-form-item",{staticStyle:{"margin-bottom":"30px"},attrs:{label:"是否显示",required:""}},[r("el-radio",{attrs:{label:1},model:{value:t.productInfo.is_show,callback:function(e){t.$set(t.productInfo,"is_show",e)},expression:"productInfo.is_show"}},[t._v("是")]),r("el-radio",{attrs:{label:2},model:{value:t.productInfo.is_show,callback:function(e){t.$set(t.productInfo,"is_show",e)},expression:"productInfo.is_show"}},[t._v("否")])],1),r("div",{staticStyle:{"text-align":"right"}},[r("el-button",{attrs:{type:"default"},on:{click:function(e){return t.goNext("productContent")}}},[t._v("下一步")])],1)],1),r("el-tab-pane",{attrs:{label:"标的详情",name:"productContent"}},[r("div",{staticStyle:{"text-align":"right"}},[r("el-form-item",[t.dialogVisible?r("Tinymce",{attrs:{height:400,width:"80%"},model:{value:t.productInfo.product_content,callback:function(e){t.$set(t.productInfo,"product_content",e)},expression:"productInfo.product_content"}}):t._e()],1),r("el-button",{attrs:{type:"default"},on:{click:function(e){return t.goNext("productInfo")}}},[t._v("上一步")]),r("el-button",{attrs:{type:"default"},on:{click:function(e){return t.goNext("productUser")}}},[t._v("下一步")])],1)]),r("el-tab-pane",{attrs:{label:"车主信息",name:"productUser"}},[r("div",{staticStyle:{"text-align":"right"}},[t._l(t.productCars,(function(e){return r("el-card",{staticStyle:{"margin-bottom":"5px"}},[r("el-form-item",{attrs:{label:"车主姓名"}},[r("el-input",{model:{value:e.user_name,callback:function(r){t.$set(e,"user_name",r)},expression:"product.user_name"}})],1),r("el-form-item",{attrs:{label:"手机号"}},[r("el-input",{model:{value:e.mobile,callback:function(r){t.$set(e,"mobile",r)},expression:"product.mobile"}})],1),r("el-form-item",{attrs:{label:"车辆信息","label-width":"100px"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:5}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:t.loadVehicle},model:{value:e.car_brand_title,callback:function(r){t.$set(e,"car_brand_title",r)},expression:"product.car_brand_title"}},t._l(t.brandOptions,(function(t){return r("el-option",{key:t.id,attrs:{label:t.title,value:t.title}})})),1)],1),r("el-col",{attrs:{span:5}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:t.loadYears},model:{value:e.car_vehicle_title,callback:function(r){t.$set(e,"car_vehicle_title",r)},expression:"product.car_vehicle_title"}},t._l(t.vehicleOptions,(function(t){return r("el-option",{key:t.id,attrs:{label:t.title,value:t.title}})})),1)],1),r("el-col",{attrs:{span:5}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:t.loadModels},model:{value:e.car_year_title,callback:function(r){t.$set(e,"car_year_title",r)},expression:"product.car_year_title"}},t._l(t.yearOptions,(function(t){return r("el-option",{key:t.id,attrs:{label:t.title,value:t.title}})})),1)],1),r("el-col",{attrs:{span:5}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.car_model_title,callback:function(r){t.$set(e,"car_model_title",r)},expression:"product.car_model_title"}},t._l(t.modelOptions,(function(t){return r("el-option",{key:t.id,attrs:{label:t.title,value:t.title}})})),1)],1)],1)],1)],1)})),r("div",{staticStyle:{margin:"5px","text-align":"left"}},[r("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.addUser()}}},[t._v("继续添加车主")])],1),r("el-button",{attrs:{type:"default"},on:{click:function(e){return t.goNext("productContent")}}},[t._v("上一步")]),r("el-button",{attrs:{type:"primary"},on:{click:t.confirmCarInfo}},[t._v("保存")])],2)])],1)],1)],1)],1)},a=[],o=(r("7db0"),r("4160"),r("a434"),r("159b"),r("96cf"),r("1da1")),i=r("70a2"),l=r("6724"),c=r("8256"),u=r("333d"),s=r("b775");function d(t){return Object(s["a"])({url:"/admin/product",method:"get",params:t})}function p(t,e){return Object(s["a"])({url:"/admin/product/".concat(t),method:"put",data:e})}function f(t){return Object(s["a"])({url:"/admin/product/".concat(t,"/show"),method:"put"})}function m(t){return Object(s["a"])({url:"/admin/product",method:"post",data:t})}function b(t){return Object(s["a"])({url:"/admin/product/".concat(t),method:"get"})}function _(t){return Object(s["a"])({url:"/admin/product",method:"delete",data:t})}var h=r("66b4"),v=(r("ed08"),{1:"即将开始",2:"疯抢中",3:"已满额",4:"回款中",5:"已还款",6:"流标"}),g={user_name:"",mobile:"",car_brand_title:"",car_vehicle_title:"",car_year_title:"",car_model_title:""},y={components:{Pagination:u["a"],Upload:i["a"],Tinymce:c["a"]},directives:{waves:l["a"]},filters:{statusFilter:function(t){var e={2:"danger",1:"success"};return e[t]},statusShowFilter:function(t){return v[t]}},data:function(){return{productId:"",productInfo:{},productCars:[],productContent:{},productUser:{},activeTableName:"productInfo",activeName:"productInfo",brandOptions:[],vehicleOptions:[],yearOptions:[],modelOptions:[],productList:[],dialogVisible:!1,dialogType:"new",total:0,listLoading:!0,listQuery:{page:1,per_page:20}}},created:function(){this.getProduct(),this.getBrands()},methods:{handleShow:function(t){var e=this;f(t).then((function(t){e.getProduct()}))},addUser:function(){this.productCars.push(g)},goNext:function(t){this.activeName=t},handleFilter:function(){this.listQuery.page=1,this.getProduct()},getBrands:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(h["m"])({per_page:1e5});case 2:r=e.sent,t.brandOptions=r.data.items;case 4:case"end":return e.stop()}}),e)})))()},loadVehicle:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.brandOptions.find((function(e){return e.title==t})).id,r.next=3,Object(h["q"])({per_page:1e5,brand_id:n});case 3:a=r.sent,e.vehicleOptions=a.data.items;case 5:case"end":return r.stop()}}),r)})))()},loadYears:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.vehicleOptions.find((function(e){return e.title==t})).id,r.next=3,Object(h["r"])({per_page:1e5,vehicle_id:n});case 3:a=r.sent,e.yearOptions=a.data.items;case 5:case"end":return r.stop()}}),r)})))()},loadModels:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.yearOptions.find((function(e){return e.title==t})).id,r.next=3,Object(h["n"])({per_page:1e5,year_id:n});case 3:a=r.sent,e.modelOptions=a.data.items;case 5:case"end":return r.stop()}}),r)})))()},getProduct:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.listLoading=!0,e.next=3,d(t.listQuery);case 3:r=e.sent,t.productList=r.data.items,t.total=r.data._meta.total_count,t.listLoading=!1;case 7:case"end":return e.stop()}}),e)})))()},handleAddCar:function(){this.productInfo={},this.productCars=[],this.dialogType="new",this.dialogVisible=!0},handleEdit:function(t){var e=this;b(t.row.id).then((function(t){e.productInfo=t.data.product,e.productInfo.banner=t.data.banner,t.data.cars.forEach((function(t){e.productCars.push({user_name:t.user_name,mobile:t.mobile,car_brand_title:t.car_brand_title,car_vehicle_title:t.car_vehicle_title,car_year_title:t.car_year_title,car_model_title:t.car_model_title})})),e.dialogType="edit",e.dialogVisible=!0}))},handleDelete:function(t){var e=this,r=t.$index,n=t.row;this.$confirm("确定要删除吗?","Warning",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_({ids:n.id});case 2:e.productList.splice(r,1),e.$message({type:"success",message:"删除成功!"});case 4:case"end":return t.stop()}}),t)})))).catch((function(t){console.error(t)}))},confirmCarInfo:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r="edit"===t.dialogType,!r){e.next=7;break}return n={product_title:t.productInfo.product_title,product_subtitle:t.productInfo.product_subtitle,banner_ids:t.productInfo.banner_ids,collect_money:t.productInfo.collect_money,product_yield:t.productInfo.product_yield,raise_start_at:t.productInfo.raise_start_at,raise_days:t.productInfo.raise_days,product_days:t.productInfo.product_days,least_money:t.productInfo.least_money,order_limit:t.productInfo.order_limit,is_new:t.productInfo.is_new,is_virtual:t.productInfo.is_virtual,product_content:t.productInfo.product_content,product_cars:JSON.stringify(t.productCars)},e.next=5,p(t.productInfo.id,n);case 5:e.next=10;break;case 7:return t.productInfo.product_cars=JSON.stringify(t.productCars),e.next=10,m(t.productInfo);case 10:t.getProduct(),t.dialogVisible=!1,t.$notify({title:"Success",message:"操作成功！",type:"success"});case 13:case"end":return e.stop()}}),e)})))()},handleClose:function(){this.productCars=[],console.log(this.productCars)},resetForm:function(){this.product_title=""},handleLog:function(t){this.$router.push({name:"MoneyOrder",query:{product_id:t.row.id}})}}},w=y,I=(r("dfe5b"),r("2877")),x=Object(I["a"])(w,n,a,!1,null,"64df7678",null);e["default"]=x.exports},ed08:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));r("4160"),r("c975"),r("b64b"),r("d3b7"),r("4d63"),r("ac1f"),r("25f0"),r("4d90"),r("5319"),r("1276"),r("159b"),r("a4d3"),r("e01a"),r("d28b"),r("3ca3"),r("ddb0");function n(t){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function a(t){if(!t&&"object"!==n(t))throw new Error("error arguments","deepClone");var e=t.constructor===Array?[]:{};return Object.keys(t).forEach((function(r){t[r]&&"object"===n(t[r])?e[r]=a(t[r]):e[r]=t[r]})),e}}}]);