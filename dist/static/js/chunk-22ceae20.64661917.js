(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22ceae20"],{2681:function(t,e,n){"use strict";n("f86b")},"333d":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[n("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},a=[];n("a9e3");Math.easeInOutQuad=function(t,e,n,r){return t/=r/2,t<1?n/2*t*t+e:(t--,-n/2*(t*(t-2)-1)+e)};var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function o(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function l(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function c(t,e,n){var r=l(),a=t-r,c=20,u=0;e="undefined"===typeof e?500:e;var s=function t(){u+=c;var l=Math.easeInOutQuad(u,r,a,e);o(l),u<e?i(t):n&&"function"===typeof n&&n()};s()}var u={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&c(0,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&c(0,800)}}},s=u,d=(n("abc3"),n("2877")),p=Object(d["a"])(s,r,a,!1,null,"6977430e",null);e["a"]=p.exports},"66b4":function(t,e,n){"use strict";n.d(e,"t",(function(){return a})),n.d(e,"w",(function(){return i})),n.d(e,"p",(function(){return o})),n.d(e,"B",(function(){return l})),n.d(e,"q",(function(){return c})),n.d(e,"C",(function(){return u})),n.d(e,"a",(function(){return s})),n.d(e,"u",(function(){return d})),n.d(e,"g",(function(){return p})),n.d(e,"l",(function(){return f})),n.d(e,"x",(function(){return m})),n.d(e,"b",(function(){return h})),n.d(e,"h",(function(){return b})),n.d(e,"m",(function(){return g})),n.d(e,"z",(function(){return _})),n.d(e,"c",(function(){return v})),n.d(e,"v",(function(){return y})),n.d(e,"i",(function(){return w})),n.d(e,"s",(function(){return k})),n.d(e,"f",(function(){return O})),n.d(e,"k",(function(){return I})),n.d(e,"r",(function(){return j})),n.d(e,"D",(function(){return x})),n.d(e,"e",(function(){return C})),n.d(e,"j",(function(){return S})),n.d(e,"n",(function(){return $})),n.d(e,"A",(function(){return L})),n.d(e,"y",(function(){return T})),n.d(e,"d",(function(){return E})),n.d(e,"o",(function(){return N}));var r=n("b775");function a(t){return Object(r["a"])({url:"/admin/car",method:"get",params:t})}function i(t,e){return Object(r["a"])({url:"/admin/car/".concat(t),method:"put",data:e})}function o(t){return Object(r["a"])({url:"/admin/car-test",method:"get",params:t})}function l(t){return Object(r["a"])({url:"/admin/car-test",method:"put",data:t})}function c(t){return Object(r["a"])({url:"/admin/car-user",method:"get",params:t})}function u(t){return Object(r["a"])({url:"/admin/car-user",method:"put",data:t})}function s(t){return Object(r["a"])({url:"/admin/car",method:"post",data:t})}function d(t){return Object(r["a"])({url:"/admin/car/".concat(t),method:"get"})}function p(t){return Object(r["a"])({url:"/admin/car",method:"delete",data:t})}function f(t){return Object(r["a"])({url:"/admin/car-brand",method:"get",params:t})}function m(t,e){return Object(r["a"])({url:"/admin/car-brand/".concat(t),method:"put",data:e})}function h(t){return Object(r["a"])({url:"/admin/car-brand",method:"post",data:t})}function b(t){return Object(r["a"])({url:"/admin/car-brand",method:"delete",data:t})}function g(t){return Object(r["a"])({url:"/admin/car-model",method:"get",params:t})}function _(t,e){return Object(r["a"])({url:"/admin/car-model/".concat(t),method:"put",data:e})}function v(t){return Object(r["a"])({url:"/admin/car-model",method:"post",data:t})}function y(t){return Object(r["a"])({url:"/admin/car-model/".concat(t),method:"get"})}function w(t){return Object(r["a"])({url:"/admin/car-model",method:"delete",data:t})}function k(t){return Object(r["a"])({url:"/admin/car-year",method:"get",params:t})}function O(t){return Object(r["a"])({url:"/admin/car-year",method:"post",data:t})}function I(t){return Object(r["a"])({url:"/admin/car-year",method:"delete",data:t})}function j(t){return Object(r["a"])({url:"/admin/car-vehicle",method:"get",params:t})}function x(t,e){return Object(r["a"])({url:"/admin/car-vehicle/".concat(t),method:"put",data:e})}function C(t){return Object(r["a"])({url:"/admin/car-vehicle",method:"post",data:t})}function S(t){return Object(r["a"])({url:"/admin/car-vehicle",method:"delete",data:t})}function $(t){return Object(r["a"])({url:"/admin/car-sell",method:"get",params:t})}function L(t){return Object(r["a"])({url:"/admin/car/".concat(t,"/sell"),method:"put"})}function T(t){return Object(r["a"])({url:"/admin/car/".concat(t,"/copy"),method:"put"})}function E(t){return Object(r["a"])({url:"/admin/car-sell-log",method:"post",data:t})}function N(t){return Object(r["a"])({url:"/admin/car-sell-log",method:"get",params:t})}},6724:function(t,e,n){"use strict";n("8d41");var r="@@wavesContext";function a(t,e){function n(n){var r=Object.assign({},e.value),a=Object.assign({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},r),i=a.ele;if(i){i.style.position="relative",i.style.overflow="hidden";var o=i.getBoundingClientRect(),l=i.querySelector(".waves-ripple");switch(l?l.className="waves-ripple":(l=document.createElement("span"),l.className="waves-ripple",l.style.height=l.style.width=Math.max(o.width,o.height)+"px",i.appendChild(l)),a.type){case"center":l.style.top=o.height/2-l.offsetHeight/2+"px",l.style.left=o.width/2-l.offsetWidth/2+"px";break;default:l.style.top=(n.pageY-o.top-l.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",l.style.left=(n.pageX-o.left-l.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return l.style.backgroundColor=a.color,l.className="waves-ripple z-active",!1}}return t[r]?t[r].removeHandle=n:t[r]={removeHandle:n},n}var i={bind:function(t,e){t.addEventListener("click",a(t,e),!1)},update:function(t,e){t.removeEventListener("click",t[r].removeHandle,!1),t.addEventListener("click",a(t,e),!1)},unbind:function(t){t.removeEventListener("click",t[r].removeHandle,!1),t[r]=null,delete t[r]}},o=function(t){t.directive("waves",i)};window.Vue&&(window.waves=i,Vue.use(o)),i.install=o;e["a"]=i},"70a2":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-upload",{attrs:{action:"","http-request":t.upload,"list-type":"picture-card","on-preview":t.handlePictureCardPreview,"file-list":t.imgList,"on-change":t.handleChange,limit:10,"on-remove":t.handleRemove}},[n("i",{staticClass:"el-icon-plus"})]),n("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},a=[],i=(n("4160"),n("a15b"),n("b0c0"),n("159b"),n("91b6")),o={props:{value:"",pic_url:null},mounted:function(){this.imageUrl()},data:function(){return{imgList:[],idList:[],valueList:[],dialogImageUrl:"",dialogVisible:!1}},methods:{imageUrl:function(){var t=this;this.pic_url.forEach((function(e){t.imgList.push({url:t.GLOBAL.BASE_URL+e.banner_url}),t.idList.push({id:e.id,url:t.GLOBAL.BASE_URL+e.banner_url})})),this.valueList=this.value},upload:function(t){var e=this,n=new FormData;n.append("file",t.file),Object(i["a"])(n).then((function(t){e.valueList.push(t.data.file_id),e.emitInput(e.valueList)}))},emitInput:function(t){console.log(t.join(",")),this.$emit("input",t.join(","))},handleChange:function(t){console.log(2323,t);var e={name:t.name,url:t.url};this.imgList.push(e)},handleRemove:function(t,e){var n=this,r=[];e.forEach((function(t){n.idList.forEach((function(e){e.url==t.url&&r.push(e.id)}))})),this.valueList=r,this.emitInput(r)},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0}}},l=o,c=(n("9b08"),n("2877")),u=Object(c["a"])(l,r,a,!1,null,null,null);e["a"]=u.exports},"7bbd":function(t,e,n){"use strict";n("f517")},8697:function(t,e,n){},"8d41":function(t,e,n){},"91b6":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("b775");function a(t){return Object(r["a"])({url:"/admin/file",method:"post",param:t,headers:{"Content-Type":"multipart/form-data"},transformRequest:[function(){return t}]})}},"9b08":function(t,e,n){"use strict";n("8697")},a8c0:function(t,e,n){},abc3:function(t,e,n){"use strict";n("b684")},b684:function(t,e,n){},e6e2:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-form",{ref:"filterForm",attrs:{model:t.listQuery}},[n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"60px",label:"名称:"}},[n("el-input",{staticStyle:{width:"50%"},attrs:{clearable:"",placeholder:"输入关键字"},model:{value:t.listQuery.product_title,callback:function(e){t.$set(t.listQuery,"product_title",e)},expression:"listQuery.product_title"}})],1)],1),n("el-col",{attrs:{span:6}},[n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v(" 查询 ")]),n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"default",icon:"el-icon-search"},on:{click:function(e){return t.resetForm("filterForm")}}},[t._v(" 清空查询条件 ")])],1)],1),n("el-button",{attrs:{type:"success",icon:"el-icon-clear"},on:{click:t.handleAddCar}},[t._v(" 添加标的 ")])],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"dragTable",attrs:{data:t.productList,"row-key":"id",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"ID"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"项目名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.product_title)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"利率(%)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.product_yield)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"筹标时间(天)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.raise_days)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"标的时间(天)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.product_days)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"发布日期"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.create_at)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"开始日期"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.product_start_at)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"到期日期"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.product_end_at)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"标的状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t._f("statusShowFilter")(e.row.status))+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"新手标"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tag",{attrs:{type:t._f("statusFilter")(e.row.is_new)}},[t._v(" "+t._s(1==e.row.is_new?"是":"否")+" ")])]}}])}),n("el-table-column",{attrs:{align:"center",label:"是否显示"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tag",{attrs:{type:t._f("statusFilter")(e.row.is_show)}},[t._v(" "+t._s(1==e.row.is_show?"是":"否")+" ")])]}}])}),n("el-table-column",{attrs:{align:"center",label:"操作",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(n){return t.handleEdit(e)}}},[t._v("编辑")]),n("el-button",{attrs:{type:"default",size:"mini"},on:{click:function(n){return t.handleLog(e)}}},[t._v("购买记录")])]}}])})],1),n("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.per_page},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"per_page",e)},pagination:t.getProduct}}),n("el-dialog",{staticStyle:{"min-height":"500px"},attrs:{visible:t.dialogVisible,title:"edit"===t.dialogType?"编辑项目":"新增项目",width:"50%",top:"5px"},on:{"update:visible":function(e){t.dialogVisible=e},close:t.handleClose}},[n("el-form",{attrs:{model:t.productInfo,"label-position":"left","label-width":"100px"}},[n("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"基础资料",name:"productInfo"}},[n("el-form-item",{attrs:{label:"项目名称"}},[n("el-input",{model:{value:t.productInfo.product_title,callback:function(e){t.$set(t.productInfo,"product_title",e)},expression:"productInfo.product_title"}})],1),n("el-form-item",{attrs:{label:"副标题"}},[n("el-input",{attrs:{type:"textarea"},model:{value:t.productInfo.product_subtitle,callback:function(e){t.$set(t.productInfo,"product_subtitle",e)},expression:"productInfo.product_subtitle"}})],1),n("el-form-item",{attrs:{label:"轮播图",required:""}},[t.dialogVisible?n("Upload",{attrs:{pic_url:t.productInfo.banner},model:{value:t.productInfo.banner_ids,callback:function(e){t.$set(t.productInfo,"banner_ids",e)},expression:"productInfo.banner_ids"}}):t._e(),n("p",[t._v("建议图片宽度750，高度200-950")])],1),n("el-form-item",{attrs:{label:"标的金额"}},[n("el-input",{model:{value:t.productInfo.collect_money,callback:function(e){t.$set(t.productInfo,"collect_money",e)},expression:"productInfo.collect_money"}})],1),n("el-form-item",{attrs:{label:"年华收益",required:""}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:6}},[n("el-input",{model:{value:t.productInfo.product_yield,callback:function(e){t.$set(t.productInfo,"product_yield",e)},expression:"productInfo.product_yield"}})],1),n("el-col",{attrs:{span:6}},[t._v("%")])],1)],1),n("el-form-item",{attrs:{label:"筹标时间"}},[n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:t.productInfo.raise_start_at,callback:function(e){t.$set(t.productInfo,"raise_start_at",e)},expression:"productInfo.raise_start_at"}})],1),n("el-form-item",{attrs:{label:"筹标期限"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:6}},[n("el-input",{model:{value:t.productInfo.raise_days,callback:function(e){t.$set(t.productInfo,"raise_days",e)},expression:"productInfo.raise_days"}})],1),n("el-col",{attrs:{span:6}},[t._v("天")])],1)],1),n("el-form-item",{attrs:{label:"标的天数"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:6}},[n("el-input",{model:{value:t.productInfo.product_days,callback:function(e){t.$set(t.productInfo,"product_days",e)},expression:"productInfo.product_days"}})],1),n("el-col",{attrs:{span:6}},[t._v("天")])],1)],1),n("el-form-item",{attrs:{label:"起购金额"}},[n("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.productInfo.least_money,callback:function(e){t.$set(t.productInfo,"least_money",e)},expression:"productInfo.least_money"}},[n("el-option",{key:"100",attrs:{label:"100",value:"100"}}),n("el-option",{key:"1000",attrs:{label:"1000",value:"1000"}})],1)],1),n("el-form-item",{attrs:{label:"购买限制"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:6}},[n("el-input",{attrs:{value:"0"},model:{value:t.productInfo.order_limit,callback:function(e){t.$set(t.productInfo,"order_limit",e)},expression:"productInfo.order_limit"}})],1),n("el-col",{attrs:{span:6}},[t._v("默认0标识不限制")])],1)],1),n("el-form-item",{staticStyle:{"margin-bottom":"30px"},attrs:{label:"是否新手标",required:""}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:6}},[n("el-radio",{attrs:{label:1},model:{value:t.productInfo.is_new,callback:function(e){t.$set(t.productInfo,"is_new",e)},expression:"productInfo.is_new"}},[t._v("是")]),n("el-radio",{attrs:{label:2},model:{value:t.productInfo.is_new,callback:function(e){t.$set(t.productInfo,"is_new",e)},expression:"productInfo.is_new"}},[t._v("否")])],1),n("el-col",{attrs:{span:6}},[t._v("新手标用户只能购买一次")])],1)],1),n("el-form-item",{staticStyle:{"margin-bottom":"30px"},attrs:{label:"虚拟成团",required:""}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:6}},[n("el-radio",{attrs:{label:1},model:{value:t.productInfo.is_virtual,callback:function(e){t.$set(t.productInfo,"is_virtual",e)},expression:"productInfo.is_virtual"}},[t._v("是")]),n("el-radio",{attrs:{label:2},model:{value:t.productInfo.is_virtual,callback:function(e){t.$set(t.productInfo,"is_virtual",e)},expression:"productInfo.is_virtual"}},[t._v("否")])],1),n("el-col",{attrs:{span:12}},[t._v("开启虚拟成团后，在筹标期内人数不够的，系统会虚拟用户凑满人数，使标的成功。虚拟的用户不生成后台投资记录。")])],1)],1),n("div",{staticStyle:{"text-align":"right"}},[n("el-button",{attrs:{type:"default"},on:{click:function(e){return t.goNext("productContent")}}},[t._v("下一步")])],1)],1),n("el-tab-pane",{attrs:{label:"标的详情",name:"productContent"}},[n("div",{staticStyle:{"text-align":"right"}},[n("el-form-item",[t.dialogVisible?n("Tinymce",{attrs:{height:400,width:"80%"},model:{value:t.productInfo.product_content,callback:function(e){t.$set(t.productInfo,"product_content",e)},expression:"productInfo.product_content"}}):t._e()],1),n("el-button",{attrs:{type:"default"},on:{click:function(e){return t.goNext("productInfo")}}},[t._v("上一步")]),n("el-button",{attrs:{type:"default"},on:{click:function(e){return t.goNext("productUser")}}},[t._v("下一步")])],1)]),n("el-tab-pane",{attrs:{label:"车主信息",name:"productUser"}},[n("div",{staticStyle:{"text-align":"right"}},[t._l(t.productCars,(function(e){return n("el-card",{staticStyle:{"margin-bottom":"5px"}},[n("el-form-item",{attrs:{label:"车主姓名"}},[n("el-input",{model:{value:e.user_name,callback:function(n){t.$set(e,"user_name",n)},expression:"product.user_name"}})],1),n("el-form-item",{attrs:{label:"手机号"}},[n("el-input",{model:{value:e.mobile,callback:function(n){t.$set(e,"mobile",n)},expression:"product.mobile"}})],1),n("el-form-item",{attrs:{label:"车辆信息","label-width":"100px"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:5}},[n("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.car_brand_title,callback:function(n){t.$set(e,"car_brand_title",n)},expression:"product.car_brand_title"}},t._l(t.brandOptions,(function(t){return n("el-option",{key:t.id,attrs:{label:t.title,value:t.title}})})),1)],1),n("el-col",{attrs:{span:5}},[n("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.car_vehicle_title,callback:function(n){t.$set(e,"car_vehicle_title",n)},expression:"product.car_vehicle_title"}},t._l(t.vehicleOptions,(function(t){return n("el-option",{key:t.id,attrs:{label:t.title,value:t.title}})})),1)],1),n("el-col",{attrs:{span:5}},[n("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.car_year_title,callback:function(n){t.$set(e,"car_year_title",n)},expression:"product.car_year_title"}},t._l(t.yearOptions,(function(t){return n("el-option",{key:t.id,attrs:{label:t.title,value:t.title}})})),1)],1),n("el-col",{attrs:{span:5}},[n("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.car_model_title,callback:function(n){t.$set(e,"car_model_title",n)},expression:"product.car_model_title"}},t._l(t.modelOptions,(function(t){return n("el-option",{key:t.id,attrs:{label:t.title,value:t.title}})})),1)],1)],1)],1)],1)})),n("div",{staticStyle:{margin:"5px","text-align":"left"}},[n("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.addUser()}}},[t._v("继续添加车主")])],1),n("el-button",{attrs:{type:"default"},on:{click:function(e){return t.goNext("productContent")}}},[t._v("上一步")]),n("el-button",{attrs:{type:"primary"},on:{click:t.confirmCarInfo}},[t._v("保存")])],2)])],1)],1)],1)],1)},a=[],i=(n("4160"),n("a434"),n("159b"),n("96cf"),n("1da1")),o=n("70a2"),l=n("6724"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tinymce-container",class:{fullscreen:t.fullscreen},style:{width:t.containerWidth}},[n("textarea",{staticClass:"tinymce-textarea",attrs:{id:t.tinymceId}}),t._v(" "),n("div",{staticClass:"editor-custom-btn-container"},[n("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:t.imageSuccessCBK}})],1)])},u=[],s=(n("a9e3"),n("b680"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"upload-container"},[n("el-button",{style:{background:t.color,borderColor:t.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v(" 上传 ")]),n("el-dialog",{attrs:{visible:t.dialogVisible,zIndex:"2000"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-upload",{staticClass:"editor-slide-upload",attrs:{multiple:!0,"file-list":t.fileList,"http-request":t.upload,"show-file-list":!0,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"before-upload":t.beforeUpload,action:" ","list-type":"picture-card"}},[n("el-button",{attrs:{size:"small",type:"primary"}},[t._v(" 点击上传 ")])],1),n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v(" 取消 ")]),n("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v(" 确定 ")])],1)],1)}),d=[],p=(n("a623"),n("d81d"),n("b64b"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("91b6")),f={name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{dialogVisible:!1,listObj:[],fileList:[]}},methods:{upload:function(t,e){var n=this,r=new FormData;r.append("file",t.file),Object(p["a"])(r).then((function(e){for(var r=t.file.uid,a=Object.keys(n.listObj),i=0,o=a.length;i<o;i++)if(n.listObj[a[i]].uid===r)return n.listObj[a[i]].url=e.data.file_url,void(n.listObj[a[i]].hasSuccess=!0)}))},checkAllSuccess:function(){var t=this;return Object.keys(this.listObj).every((function(e){return t.listObj[e].hasSuccess}))},handleSubmit:function(){var t=this,e=Object.keys(this.listObj).map((function(e){return t.listObj[e]}));this.checkAllSuccess()?(this.$emit("successCBK",e),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("请等待所有图片上传完毕，如果出现网络问题，请重新上传!")},handleSuccess:function(t,e){for(var n=e.uid,r=Object.keys(this.listObj),a=0,i=r.length;a<i;a++)if(this.listObj[r[a]].uid===n)return this.listObj[r[a]].url=t.data.file_url,void(this.listObj[r[a]].hasSuccess=!0)},handleRemove:function(t){for(var e=t.uid,n=Object.keys(this.listObj),r=0,a=n.length;r<a;r++)if(this.listObj[n[r]].uid===e)return void delete this.listObj[n[r]]},beforeUpload:function(t){var e=this,n=window.URL||window.webkitURL,r=t.uid;return this.listObj[r]={},new Promise((function(a,i){var o=new Image;o.src=n.createObjectURL(t),o.onload=function(){e.listObj[r]={hasSuccess:!1,uid:t.uid,width:this.width,height:this.height}},a(!0)}))}}},m=f,h=(n("7bbd"),n("2877")),b=Object(h["a"])(m,s,d,!1,null,"54570032",null),g=b.exports,_=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],v=_,y=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],w=y,k=n("b85c"),O=[];function I(){return window.tinymce}var j=function(t,e){var n=document.getElementById(t),r=e||function(){};if(!n){var a=document.createElement("script");a.src=t,a.id=t,document.body.appendChild(a),O.push(r);var i="onload"in a?o:l;i(a)}function o(e){e.onload=function(){this.onerror=this.onload=null;var t,n=Object(k["a"])(O);try{for(n.s();!(t=n.n()).done;){var r=t.value;r(null,e)}}catch(a){n.e(a)}finally{n.f()}O=null},e.onerror=function(){this.onerror=this.onload=null,r(new Error("Failed to load "+t),e)}}function l(t){t.onreadystatechange=function(){if("complete"===this.readyState||"loaded"===this.readyState){this.onreadystatechange=null;var e,n=Object(k["a"])(O);try{for(n.s();!(e=n.n()).done;){var r=e.value;r(null,t)}}catch(a){n.e(a)}finally{n.f()}O=null}}}n&&r&&(I()?r(null,n):O.push(r))},x=j,C="https://cdn.jsdelivr.net/npm/tinymce-all-in-one@4.9.3/tinymce.min.js",S={name:"Tinymce",components:{editorImage:g},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:[Number,String],required:!1,default:360},width:{type:[Number,String],required:!1,default:"auto"}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN",es:"es_MX",ja:"ja"}}},computed:{containerWidth:function(){var t=this.width;return/^[\d]+(\.[\d]+)?$/.test(t)?"".concat(t,"px"):t}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick((function(){return window.tinymce.get(e.tinymceId).setContent(t||"")}))}},mounted:function(){this.init()},activated:function(){window.tinymce&&this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{init:function(){var t=this;x(C,(function(e){e?t.$message.error(e.message):t.initTinymce()}))},initTinymce:function(){var t=this,e=this;window.tinymce.init({selector:"#".concat(this.tinymceId),language:this.languageTypeList["zh"],height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:w,menubar:this.menubar,plugins:v,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(n){e.value&&n.setContent(e.value),e.hasInit=!0,n.on("NodeChange Change KeyUp SetContent",(function(){t.hasChange=!0,t.$emit("input",n.getContent())}))},setup:function(t){t.on("FullscreenStateChanged",(function(t){e.fullscreen=t.state}))}})},destroyTinymce:function(){var t=window.tinymce.get(this.tinymceId);this.fullscreen&&t.execCommand("mceFullScreen"),t&&t.destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(t){var e=this;t.forEach((function(t){window.tinymce.get(e.tinymceId).insertContent('<img class="wscnph" src="'.concat(t.url,'" >'))}))}}},$=S,L=(n("ec6f"),Object(h["a"])($,c,u,!1,null,"07db5426",null)),T=L.exports,E=n("333d"),N=n("b775");function z(t){return Object(N["a"])({url:"/admin/product",method:"get",params:t})}function R(t,e){return Object(N["a"])({url:"/admin/product/".concat(t),method:"put",data:e})}function U(t){return Object(N["a"])({url:"/admin/product",method:"post",data:t})}function V(t){return Object(N["a"])({url:"/admin/product/".concat(t),method:"get"})}function F(t){return Object(N["a"])({url:"/admin/product",method:"delete",data:t})}var q=n("66b4"),B=(n("ed08"),{1:"即将开始",2:"疯抢中",3:"已满额",4:"回款中",5:"已还款",6:"流标"}),P={user_name:"",mobile:"",car_brand_title:"",car_vehicle_title:"",car_year_title:"",car_model_title:""},A={components:{Pagination:E["a"],Upload:o["a"],Tinymce:T},directives:{waves:l["a"]},filters:{statusFilter:function(t){var e={2:"info",1:"success"};return e[t]},statusShowFilter:function(t){return B[t]}},data:function(){return{productId:"",productInfo:{},productCars:[],productContent:{},productUser:{},activeTableName:"productInfo",activeName:"productInfo",brandOptions:[],vehicleOptions:[],yearOptions:[],modelOptions:[],productList:[],dialogVisible:!1,dialogType:"new",total:0,listLoading:!0,listQuery:{page:1,per_page:20}}},created:function(){this.getProduct(),this.getBrands(),this.getVehicles(),this.getYears(),this.getModels()},methods:{addUser:function(){this.productCars.push(P)},goNext:function(t){this.activeName=t},handleFilter:function(){this.listQuery.page=1,this.getProduct()},getBrands:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(q["l"])({per_page:1e5});case 2:n=e.sent,t.brandOptions=n.data.items;case 4:case"end":return e.stop()}}),e)})))()},getVehicles:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(q["r"])({per_page:1e5});case 2:n=e.sent,t.vehicleOptions=n.data.items;case 4:case"end":return e.stop()}}),e)})))()},getYears:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(q["s"])({per_page:1e5});case 2:n=e.sent,t.yearOptions=n.data.items;case 4:case"end":return e.stop()}}),e)})))()},getModels:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(q["m"])({per_page:1e5});case 2:n=e.sent,t.modelOptions=n.data.items;case 4:case"end":return e.stop()}}),e)})))()},getProduct:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.listLoading=!0,e.next=3,z(t.listQuery);case 3:n=e.sent,t.productList=n.data.items,t.total=n.data._meta.total_count,t.listLoading=!1;case 7:case"end":return e.stop()}}),e)})))()},handleAddCar:function(){this.productInfo={},this.productCars=[],this.dialogType="new",this.dialogVisible=!0},handleEdit:function(t){var e=this;V(t.row.id).then((function(t){e.productInfo=t.data.product,e.productInfo.banner=t.data.banner,t.data.cars.forEach((function(t){e.productCars.push({user_name:t.user_name,mobile:t.mobile,car_brand_title:t.car_brand_title,car_vehicle_title:t.car_vehicle_title,car_year_title:t.car_year_title,car_model_title:t.car_model_title})})),e.dialogType="edit",e.dialogVisible=!0}))},handleDelete:function(t){var e=this,n=t.$index,r=t.row;this.$confirm("确定要删除吗?","Warning",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,F({ids:r.id});case 2:e.productList.splice(n,1),e.$message({type:"success",message:"删除成功!"});case 4:case"end":return t.stop()}}),t)})))).catch((function(t){console.error(t)}))},confirmCarInfo:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n="edit"===t.dialogType,!n){e.next=7;break}return r={product_title:t.productInfo.product_title,product_subtitle:t.productInfo.product_subtitle,banner_ids:t.productInfo.banner_ids,collect_money:t.productInfo.collect_money,product_yield:t.productInfo.product_yield,raise_start_at:t.productInfo.raise_start_at,raise_days:t.productInfo.raise_days,product_days:t.productInfo.product_days,least_money:t.productInfo.least_money,order_limit:t.productInfo.order_limit,is_new:t.productInfo.is_new,is_virtual:t.productInfo.is_virtual,product_content:t.productInfo.product_content,product_cars:JSON.stringify(t.productCars)},e.next=5,R(t.productInfo.id,r);case 5:e.next=10;break;case 7:return t.productInfo.product_cars=JSON.stringify(t.productCars),e.next=10,U(t.productInfo);case 10:t.getProduct(),t.$notify({title:"Success",message:"操作成功！",type:"success"});case 12:case"end":return e.stop()}}),e)})))()},handleClose:function(){this.productCars=[],console.log(this.productCars)},resetForm:function(){this.product_title=""},handleLog:function(t){this.$router.push({name:"MoneyOrder",query:{product_id:t.row.id}})}}},Q=A,M=(n("2681"),Object(h["a"])(Q,r,a,!1,null,"5dfbc756",null));e["default"]=M.exports},ec6f:function(t,e,n){"use strict";n("a8c0")},ed08:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("4160"),n("c975"),n("b64b"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("4d90"),n("5319"),n("1276"),n("159b");var r=n("53ca");function a(t){if(!t&&"object"!==Object(r["a"])(t))throw new Error("error arguments","deepClone");var e=t.constructor===Array?[]:{};return Object.keys(t).forEach((function(n){t[n]&&"object"===Object(r["a"])(t[n])?e[n]=a(t[n]):e[n]=t[n]})),e}},f517:function(t,e,n){},f86b:function(t,e,n){}}]);